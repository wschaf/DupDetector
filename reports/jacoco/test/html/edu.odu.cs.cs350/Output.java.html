<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Output.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">DupDetector</a> &gt; <a href="index.source.html" class="el_package">edu.odu.cs.cs350</a> &gt; <span class="el_source">Output.java</span></div><h1>Output.java</h1><pre class="source lang-java linenums">package edu.odu.cs.cs350;

import edu.odu.cs.cs350.Interfaces.*;

import java.util.*;
import java.io.*;

/**
 * Output contains all of the functionality to format and print to the console
 * the complete output of the program. This includes the list of files, their metadata,
 * the list of suggested refactorings, and their metadata.
 */
public class Output implements OutputInterface {
    
	private InputInterface input;
	private RecommenderInterface recommender;
	private int refactoringsToPrint;
	private List&lt;File&gt; files;
	private List&lt;RefactoringInterface&gt; refactorings;

	/**
	 * The default constructor for Output. Creates a new Output object
	 * by calling the default constructor for each data member in turn.
	 */
<span class="fc" id="L25">	public Output() {</span>
<span class="fc" id="L26">		refactoringsToPrint = 0;</span>
<span class="fc" id="L27">		files = new ArrayList&lt;File&gt;();</span>
<span class="fc" id="L28">		refactorings = new ArrayList&lt;RefactoringInterface&gt;();</span>
<span class="fc" id="L29">	}</span>

	/**
	 * Constructs an Output object using Input and Recommender objects.
	 * @param input a completed Input object; contains all files
	 * and all tokens.
	 * @param recommender a completed Recommender object; contains all
	 * refactoring recommendations.
	 */
<span class="fc" id="L38">	public Output(InputInterface input, RecommenderInterface recommender) {</span>
<span class="fc" id="L39">		this.input = input;</span>
<span class="fc" id="L40">		this.recommender = recommender;</span>
<span class="fc" id="L41">		this.refactoringsToPrint = input.getNSuggestions();</span>

<span class="fc" id="L43">		List&lt;File&gt; fileList = new ArrayList&lt;File&gt;();</span>
<span class="fc bfc" id="L44" title="All 2 branches covered.">		for (var f : input.getFiles()) fileList.add(f);</span>
<span class="fc" id="L45">		this.files = fileList;</span>

<span class="fc" id="L47">		List&lt;RefactoringInterface&gt; rList = new ArrayList&lt;RefactoringInterface&gt;();</span>
<span class="fc bfc" id="L48" title="All 2 branches covered.">		for (var r : this.recommender.getRefactorings()) rList.add(r);</span>
<span class="fc" id="L49">		this.refactorings = rList;</span>
<span class="fc" id="L50">	}</span>

	/**
	 * @return the number of suggested refactorings that will be
	 * printed in the final output.
	 */
	@Override
	public int getRefactoringsToPrint() {
<span class="fc" id="L58">		return refactoringsToPrint;</span>
	}

	/**
	 * @param refactoringsToPrint sets the number of refactorings
	 * that will be printed in the final output.
	 */
	@Override
	public void setRefactoringsToPrint(int refactoringsToPrint) {
<span class="fc" id="L67">		this.refactoringsToPrint = refactoringsToPrint;</span>
<span class="fc" id="L68">	}</span>

	/**
	 * @return the list of file objects that have been processed by the system.
	 */
	@Override
	public List&lt;File&gt; getFiles() {
<span class="fc" id="L75">		return files;</span>
	}

	/**
	 * Sets the list of files that will be output in Section 1 of
	 * the final output.
	 * @param files is a list of file objects.
	 */
	@Override
	public void setFiles(List&lt;File&gt; files) {
<span class="fc" id="L85">		List&lt;File&gt; fileList = new ArrayList&lt;File&gt;();</span>
<span class="fc bfc" id="L86" title="All 2 branches covered.">		for (var f : files) fileList.add(f);</span>
<span class="fc" id="L87">		this.files = fileList;</span>
<span class="fc" id="L88">	}</span>

	/**
	 * @return the list of Refactoring objects to be printed in Section 2 of the final output.
	 */
	@Override
	public List&lt;RefactoringInterface&gt; getRefactorings() {
<span class="fc" id="L95">		return refactorings;</span>
	}

	@Override
	public void setRefactorings(List&lt;? extends RefactoringInterface&gt; refactorings) {
<span class="fc" id="L100">		List&lt;RefactoringInterface&gt; rList = new ArrayList&lt;RefactoringInterface&gt;();</span>
<span class="fc bfc" id="L101" title="All 2 branches covered.">		for (var r : refactorings) rList.add(r);</span>
<span class="fc" id="L102">		this.refactorings = rList;</span>
<span class="fc" id="L103">	}</span>

	/**
	 * @return a string containing the complete output for Section 1.
	 * Section 1 includes the absolute path for each file processed
	 * and the total number of tokens discovered in that file.
	 * Returns an empty string if there were no files processed.
	 */
	@Override
	public String getSectionOne() {
<span class="fc bfc" id="L113" title="All 2 branches covered.">		if (files.size() == 0) return new String();</span>
<span class="fc" id="L114">		String sectionOne = new String();</span>
<span class="fc" id="L115">		sectionOne = sectionOne + &quot;Files Scanned:\n&quot;;</span>
<span class="fc" id="L116">		String f = new String();</span>
<span class="fc bfc" id="L117" title="All 2 branches covered.">		for (File file : files) {</span>
<span class="fc" id="L118">			f = f + &quot;    &quot;;</span>
<span class="fc" id="L119">			f = f + file.getAbsolutePath();</span>
<span class="fc" id="L120">			f = f + &quot;, &quot;;</span>
<span class="fc" id="L121">			f = f + input.getTokenCountForFile(file);</span>
<span class="fc" id="L122">			f = f + &quot;\n&quot;;</span>
<span class="fc" id="L123">		}</span>
<span class="fc" id="L124">		sectionOne = sectionOne + f;</span>
<span class="fc" id="L125">		return sectionOne;</span>
	}

	/**
	 * @return a string containing the complete output for Section 2.
	 * Section 2 includes the number of tokens, absolute path,
	 * line/column number for the start, and the list of tokens
	 * in each refactoring opportunity.
	 * Returns an empty string if there were no files processed.

	 * If @param refactoringsToPrint less than the number of refactorings,
   
	 * prints all refactorings. Else, prints only that number of refactorings.
	 */
	@Override
	public String getSectionTwo() {
<span class="fc" id="L141">		String s2 = new String();</span>
<span class="fc bfc" id="L142" title="All 2 branches covered.">		if (files.size() == 0) return s2;</span>
<span class="fc bfc" id="L143" title="All 2 branches covered.">		for (int i = 0; i &lt; refactoringsToPrint; i++) {</span>
<span class="fc" id="L144">			s2 = s2 + &quot;Opportunity #&quot;;</span>
<span class="fc" id="L145">			s2 = s2 + Integer.toString(i + 1);</span>
<span class="fc" id="L146">			s2 = s2 + &quot;, &quot;;</span>
<span class="fc" id="L147">			s2 = s2 + refactorings.get(i).getNumberOfTokens();</span>
<span class="fc" id="L148">			s2 = s2 + &quot; tokens\n&quot;;</span>
<span class="fc" id="L149">			s2 = s2 + refactorings.get(i).getAbsolutePath();</span>
<span class="fc" id="L150">			s2 = s2 + &quot;:&quot;;</span>
<span class="fc" id="L151">			s2 = s2 + refactorings.get(i).getLineNumber();</span>
<span class="fc" id="L152">			s2 = s2 + &quot;:&quot;;</span>
<span class="fc" id="L153">			s2 = s2 + refactorings.get(i).getColumnNumber();</span>
<span class="fc" id="L154">			s2 = s2 + &quot;\n&quot;;</span>
<span class="fc" id="L155">			s2 = s2 + String.join(&quot;&quot;,refactorings.get(i).getTokenList());</span>
<span class="fc" id="L156">			s2 = s2 + &quot;\n&quot;;</span>
		}
<span class="fc" id="L158">		return s2;</span>
	}

	/**
	 * Cocatenates the strings for Section 1 and Section 2.
	 * @return the complete string to printed to standard output.
	 */
	@Override
	public String getCompleteOutput() {
<span class="fc bfc" id="L167" title="All 2 branches covered.">		if (files.size() == 0) return &quot;No files scanned.\n&quot;;</span>
<span class="fc" id="L168">		String s = new String();</span>

<span class="fc" id="L170">		s = s + getSectionOne();</span>
<span class="fc" id="L171">		s = s + &quot;\n&quot;;</span>
<span class="fc" id="L172">		s = s + getSectionTwo();</span>

<span class="fc" id="L174">		return s;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>